## 리뷰

## 강의
- Hadoop에 대해 이해하기 ( 이번주, 다음주 내용은 구식 / 하둡, 스파크가 왜 생겼는지 이해하기 )
- Cloud <> on-premise ( 클라우드랑 반대로 모든 시스템과 데이터를 자체적으로 관리하고 통제 )
- 데이터가 너무 많아져서 데이터베이스에 담을 수가 없어짐 > Scale Up을 하자니 돈이 너무 많이 듬 > 어떻게 하면 싸게 데이터를 저장할 수 있을까 고민함 > 데이터를 분산해서 저장하는 HDFS가 나옴

## Hadoop
- HDFS (저장) > Yarn(관리) > MapReduce(처리)
- Application Layer : MapReduce, Spark, Storm, Hive 필요에 따라 바꿔쓰면 됨
- abstract > interface가 필요함
- WORM의 장점 : 인덱싱 하기 편하다, 수정(Update)을 하지 않기 때문에 락을 걸지 않아도 된다(비용을 극단적으로 낮춤) > enables high throughout data access
- NameNode : 파일시스템의 metadata를 저장함, 깨지면 망하기 때문에 secondary NameNode를 준비해놓는다. 클라이언트랑 소통하면서 데이터가 어디있는지 알려주는 역할
- DataNode : 실제 데이터가 저장이 되지만 데이터의 정보에 대해서는 모름, NameNode의 metadata의 정보를 가지고 어디에 저장된 데이터를 달라고 클라이언트가 요청하면 데이터노드는 그 데이터를 꺼내주는 역할만 함, permission 같은 생각해야되는거는 다 NameNode가 해줌 >> 부하가 극단적으로 작아짐, 하는 일이 없음 바보임
- Data Locality : Rack(같은 허브에 묶여있다) locality 자기들끼리의 통신은 빠름 / 복제된 다른 노드에 있는 같은 데이터를 가져다 쓰면 오래걸리고 비용이 더 들기 때문에 Rack이라는 개념이 만들어짐
- Yarn(진짜 중요한 개념) : ResourceManager(resource management) <> ApplicationMaster(job scheduling/monitoring) 완전히 서로 떨어져 있음, 서로 관심이 없다 >> 비용을 낮추는 설계
- Resourcemanager는 app master만들고 app master가 resourcemager한테 어떤 일을 해야돼라고 요청하면 container(이 자원을) 쓰라고 지정해줌 / 이후 container는 app master가 관리
- 데이터가 많아지면 많아질수록 저장비용은 늘어나지만 data locality가 높아지기 때문에 처리속도가 빨라지는 개념( 데이터가 많아지면 같은 노드에 데이터가 있을 가능성이 높아지기 때문 )
- scheduler는 app master를 던지는거 외에는 아무것도 안 함
- app manager가 유일하게 모니터링 하는게 app master 컨테이너가 죽었을때 restarting 하는 것 >> ResourceManager는 쟤가 죽었는지 살았는지 모르기 때문에 이 문제를 해결하려고
- MapReduce
  - Map phase : 데이터를 쪼갠다, Map function을 써서  
  - Map task write its output to the local disk. - Map이 끝나고 Mapper output은 local disk에 적는다.
    - HDFS <> local disk(훨씬 빠름)- 로컬에 적었다가 날라가면 다시 해야됨
    - local disk가 full이 되면 그 노드는 거의 죽는다 > 노드 매니저가 리소스 매니저한테 저 컨테이너 일을 안 한다 보고 > 리소스 매니저가 앱 매니저한테 다른 노드를 쓰라고 지시 > 다시 full > 노드가 순환적으로 죽어감
  - Reduce phase
- shuffle을 안 하는 코드를 짜야한다 > 셔플이 일어나면 셔플이 안 일어나게 바꿔야함( 데이터의 특성때문에 셔플이 일어날 수 밖에 없을때가 있음 > 고쳐야함 )
- 엄청난 데이터를 단순한 코드를 써서 관리하는게 MapReduce

- W2M2a > Dockerfile을 직접 작성해야함.
- 미션을 하면서 폴더를 먼저 만들지 말고 무조건 브랜치를 먼저 만들어야함
- Team project 5개씩 15개의 아이디어를 모아서 각자 좋을 거 같은 아이디어 하나씩을 고르고 그걸 고른 이유랑 같이 다노 강사님께 보내야됨

## 오늘 한 일( 팀 프로젝트 아이디어 구상 및 피드백 )

- 설명
  - 효율적인 이커머스 재고 관리

- 누구의
  - 매 시즌 새상품을 20~30개 정도 내놓는 규모 & 자체 디자인 또는 사입 상품(도매처 등으로부터 상품을 먼저 매입하고, 그 재고를 고객에서 판매하는 형태)을  판매하는 온라인 쇼핑몰의 재고 관리자 없을 경우 사장
  
-어떤 문제
  - 재고 수 결정의 어려움 - 매년 / 매시즌마다 빠르게 변하는 패션 트렌드를 따라가야 하는데 어떤 상품을 얼마나 준비해야 할지 예측하기 어려움
  - 현금 흐름 악화 / 악성 재고 - 잘 팔리지 않는 상품의 재고를 많이 쌓아두면 돈이 재고에 묶여 현금 흐름이 막힘
  - 기회 비용 손실 - 금방 품절 되는 인기 상품의 재고를 적게 확보 했을 경우 더 많이 팔 수 있는 기회 비용이 날아감

-어떻게 해결
  - 과거의 판매 데이터
  - 사용자의 클릭, 조회, 장바구니 추가 등의 고객 행동 데이터
  - sns에서의 패션 트렌드 (특정 키워드에 대한 데이터)

- 월 얼마를 내고 살까? (얼마에 팔 수 있을까?)
  - 재고 비용 감소 & 인기 상품 추가 판매 등의 이유로 월 50~100?

## 회고
  
### Keep
- 3째 주 팀원들과 팀 프로젝트 아이디어를 구상하고 피드백하는 과정에서 구체적으로 잘한 점과 못한 점을 피드백 함
- 강사님이 알려주신데로 최대한 생각을 하지않고 아이디어를 적었음

### Problem
- 다노 강사님이 1분에 하나씩 생각하지말고 쓰레기 아이디어라도 일단 적으라하셨는데 그냥 생각이 안 났음 > 특정 타겟을 정해도 그 타겟에 대한 문제점을 찾기가 어려웠음
- 쓰레기 같은 아이디어만 냈음

### Try
- 프로젝트와 별개로 미션이 많기 때문에 집에 가서 나머지 공부 & 미션을 해야겠음
