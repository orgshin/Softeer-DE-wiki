## 리뷰

### 강의
### LocalShuffleReaderExec work

- 셔플을 할 건데, 이 파티션이 어느 workNode로 갈까 고민중인데 data locality 때문에 나한테 필요한 데이터를 가진 workNode가 있는데 다른 일을 수행하고 있다. >> 기다려야할까?
- 다른 워크노드로 가면 더 많은 양( 90% )의 데이터를 network를 통해 가져와야하는 딜레마가 있음
- AQE가 taskSetManager한테 워크노드 3번 7번으로 가라 얘기를 해줌. 이미 계산을 한 상태 - 어떤 데이터의 몇 프로가 어디에 있는지 계산, 기다리는게 나을지 다른 노드로 갈 지도 계산해서 알려줌
- 오래 기다릴 수록 데이터 로컬리티가 올라가고, 쉬고있는 cpu가 많아짐
- 짧게 기다리면 노는 cpu는 없지만, 네트워크를 엄청 탈 수 있는 단점이 있다.

- 왜 이걸 생각해냈냐?
    - 셔플할 때 네트워크를 타서 느리다
    - 테스크 스케쥴러가 어느 노드에서 일하는지를 몰라서 데이터 로컬리티를 생각하는 알고리즘이 없었음
    - AQE가 생겨나면서 어떤 노드에 어떤 데이터 블록이 있는지 알 수 있어짐 ( partitionSpec이라는걸 만듬 )
    - physical plan을 다시 열어서 rule set을 다시 정함

- merged reduce partition → AQE가 함
- Cloud 환경에서는 Rack이라는 개념이 없다?
- Any는 윗 단계에서 하려던 모든게 실패해서 떨어진거다.
- Task Locality Levels는 relaxation order >> 시도하다가 안 되면 그 다음 단계로 점점 떨어짐
- skewing의 문제는 빨리 판별을 못했을때가 문제다
- 결국은 data locality가 중요하다 → runTime때 AQE가 데이터를 보고 판별

## 회고
### Keep
- 

### Problem
- 사용자가 견적서를 입력했을때 견적서의 공임비를 현재 DB에 가지고 있는 항목과 매핑을 시켜야하는데, 표준공임표에는 없는 항목이 많아서 견적서에서 공임비에 대한 평가가 쉽지 않아. 어떻게 이걸 해결해야될 지 고민중입니다.
- 기존에 우리가 하려고 계획했던게 유스케이스를 너무 간략하게 적어놔서 금방 끝날 거 같았는데, 오늘 강사님의 피드백을 받은 후에 개발은 커녕 생각해야될 게 너무 많아져서 오후에 거의 회의에만 시간을 쓴 거 같다. 근데 제일 고민인게 정비소마다 견적서에 부품명, 공임비를 적는 방식이 다르고 우리가 뽑아놓은 부품에 없는 것도 간간히 있어서 이걸 어떻게 해결하면 좋을지 모르겠다. 오늘 집가서 새벽을 새더라도 확실하게 해결책을 정하고 내일부터는 데이터 파이프라인 설계, AWS를 사용해야 될 거 같다.


### Try
- 
